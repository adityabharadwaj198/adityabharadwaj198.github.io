<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>What the heck is the METEOR Score (and why I added it to Promptfoo) - Aditya Bharadwaj</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Spectral:wght@400;700&display=swap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>What the heck is the METEOR Score (and why I added it to Promptfoo) | Aditya Bharadwaj</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="What the heck is the METEOR Score (and why I added it to Promptfoo)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A quick dive into METEOR, a smarter evaluation metric for LLM outputs, and a behind-the-scenes look at how I implemented it for Promptfoo." />
<meta property="og:description" content="A quick dive into METEOR, a smarter evaluation metric for LLM outputs, and a behind-the-scenes look at how I implemented it for Promptfoo." />
<link rel="canonical" href="http://localhost:4000/blog/2025/07/25/meteor-score.html" />
<meta property="og:url" content="http://localhost:4000/blog/2025/07/25/meteor-score.html" />
<meta property="og:site_name" content="Aditya Bharadwaj" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-25T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="What the heck is the METEOR Score (and why I added it to Promptfoo)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-07-25T00:00:00+05:30","datePublished":"2025-07-25T00:00:00+05:30","description":"A quick dive into METEOR, a smarter evaluation metric for LLM outputs, and a behind-the-scenes look at how I implemented it for Promptfoo.","headline":"What the heck is the METEOR Score (and why I added it to Promptfoo)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2025/07/25/meteor-score.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/picture.png"}},"url":"http://localhost:4000/blog/2025/07/25/meteor-score.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H49KCRCGYJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-H49KCRCGYJ');
  </script>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a href="/" class="site-title">Aditya Bharadwaj</a>
      <p class="site-description">Technology Brother</p>
      <nav class="site-nav">
        <ul>
          <li><a href="/">About</a></li>
          <li><a href="/blog/">Writing</a></li>
          <li><a href="/resume/">Resume</a></li>
          <li><a href="/notes/">Notes</a></li>
          <li><a href="/tags/">Tags</a></li>
          <li><a href="/feed.xml">Feed</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="site-content">
    <div class="container">
      <article class="post">
  <header class="post-header">
    <h1 class="post-title">What the heck is the METEOR Score (and why I added it to Promptfoo)</h1>
    <div class="post-meta">
      <time datetime="2025-07-25T00:00:00+05:30">
        July 25, 2025
      </time>
      
      
        • Categories: blog
      
    </div>
  </header>

  <div class="post-content">
    <p>I was recently going over Chip Huyen’s AI engineering book (if you want a quick beginner friendly compilation you should check out the book). In Chapter 3 of the book titled Evaluation Methodology, she mentions different kinds of Lexical similarity metrics - which include BLEU, METEOR &amp; ROUGE. It reminded me of the time when I implemented the METEOR metric for a eval + ai red teaming tool called Promptfoo. Let’s dive into it.</p>

<h2 id="first-off--what-is-meteor">First off — what is METEOR?</h2>

<p>METEOR stands for Metric for Evaluation of Translation with Explicit ORdering. Cool acronym, what does it do? idea behind it is:</p>

<p>“How similar is the model’s output to what I wanted it to say?”</p>

<p>It’s not just a simple string match. METEOR goes beyond that, it checks if the words match, whether they have the same root (stems), and even whether they’re synonyms. Oh, and it also factors in the word order.</p>

<h2 id="so-why-did-i-build-this-for-promptfoo">So why did I build this for Promptfoo?</h2>
<p>Promptfoo is a powerful open-source framework to test and benchmark LLM outputs. It supports all kinds of evaluation methods — from latency to cost to BLEU (I implemented this too!), GLEU, ROUGE and even model-graded evaluations.</p>

<p>But there was a missing piece in the lexical similarity toolkit. What we needed was a metric that:</p>

<p>Works well for short, structured outputs (like translations or summaries)
Can account for minor word reordering
Supports multiple valid reference outputs
Understands synonyms and stems</p>

<p><em>Oh, and they had an open issue where a Promptfoo user asked for being able to use the METEOR metric lol.</em></p>

<p>So I dived right into it and added METEOR support to Promptfoo.</p>

<h2 id="how-meteor-works-with-examples">How METEOR works (with examples)</h2>

<p>At a high level, METEOR compares a model-generated sentence with a reference by matching words in three stages:</p>

<ol>
  <li>
    <p>Exact word match</p>
  </li>
  <li>
    <p>Stemming match (e.g., “running” vs. “run”)</p>
  </li>
  <li>
    <p>Synonym match (e.g., “nice” vs. “beautiful”, using WordNet)</p>
  </li>
</ol>

<p>Once matches are found, it calculates precision and recall, applies a penalty for how fragmented the matches are (i.e. word order differences), and outputs a final score between 0 and 1.</p>

<p>Here’s a quick example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reference:
The weather is beautiful today

Candidate outputs and expected scores (approximate):

The weather is beautiful today → 1.0 (exact match)

Today's weather is beautiful → ~0.85 (same words, reordered)

The weather is nice today → ~0.7 (synonym match on "nice")

It is sunny outside → ~0.3 (semantic drift, different words)
</code></pre></div></div>
<p>This kind of scoring is especially useful when there’s more than one “acceptable” phrasing — something that comes up constantly in LLM outputs.</p>

<p>Unlike BLEU or Levenshtein, METEOR gives partial credit for “close enough” matches while still penalizing structural changes when they matter.</p>

<h2 id="how-to-use-meteor-in-promptfoo">How to use METEOR in Promptfoo</h2>

<p>I wrote some documentation as part of my PR as well so I may as well point you directly to the documentation: https://www.promptfoo.dev/docs/configuration/expected-outputs/deterministic/#meteor</p>

<h2 id="when-should-you-use-meteor">When should you use METEOR?</h2>
<p>If your tests are judging:</p>

<ul>
  <li>Summaries</li>
  <li>Translations</li>
  <li>Short natural language answers</li>
</ul>

<p>Anywhere there’s more than one “valid” way to say something
…it’s a great tool.</p>

<h2 id="final-thoughts">Final Thoughts</h2>
<p>Adding METEOR to Promptfoo was fun, both as a coding problem (chunking, synonyms, scoring!) and as a UX enhancement for LLM evaluators. I usually don’t code in Typescript so it was a great exercise in that sense! Here’s my PR if interested to check it out: https://github.com/promptfoo/promptfoo/pull/3776/files</p>

<p>If you want to go beyond BLEU and get a more nuanced picture of output quality, give it a spin. Your tests will thank you. And your models might pass more often.</p>

  </div>

  <footer class="post-footer">
    <div class="post-tags">
      
        Tags: 
        
          <a href="/tags/ai/" class="tag">ai</a>
        
          <a href="/tags/evals/" class="tag">evals</a>
        
          <a href="/tags/promptfoo/" class="tag">promptfoo</a>
        
          <a href="/tags/lexical-similarity/" class="tag">lexical-similarity</a>
        
      
    </div>

    <div class="post-navigation">
      
        <a class="prev" href="/blog/2025/07/22/Get-your-head-in-the-game.html">&laquo; Get your head in the game</a>
      
      
    </div>
  </footer>
</article> 
    </div>
  </main>

  <footer class="site-footer">
    <div class="social-links">
      <a href="https://twitter.com/ad1tyabharadwaj" target="_blank" rel="noopener">Twitter</a>
      <a href="https://github.com/adityabharadwaj198" target="_blank" rel="noopener">GitHub</a>
      <a href="https://www.linkedin.com/in/aditya-bharadwaj-28a91844/" target="_blank" rel="noopener">LinkedIn</a>
    </div>
    <p class="copyright">&copy; 2025 Aditya Bharadwaj. All rights reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="/assets/js/main.js"></script>
</body>
</html> 